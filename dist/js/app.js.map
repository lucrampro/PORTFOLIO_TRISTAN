{"version":3,"names":[],"mappings":"","sources":["app.js"],"sourcesContent":["var isDevice = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\nvar w = $(window).width();\nvar h = $(window).height();\n\n    function movie() {\n        if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {\n            $('#movie-desktop').remove();\n        } else {\n            $('#movie-mobile').remove();\n        }\n    }\n\n    function burger() {\n        //    MENU DEROULANT\n        $(\".burger\").click(function () {\n            \n            if ($(\".menu\").width() === 0) {\n                TweenMax.to(\".menu\", 1, {\n                    width: \"100vw\",\n                    ease: Expo.easeInOut\n                });\n                $(\".burger\").addClass(\"open\");\n            } else {\n                TweenMax.to(\".menu\", 1, {\n                    width: \"0vw\",\n                    ease: Expo.easeInOut\n                });\n                $(\".burger\").removeClass(\"open\");\n            }\n        });\n    }\n\n    function menuColor() {\n        if( !$('body').hasClass('projets') ) {\n            $(document).scroll(function() {\n                var distance = Math.round( $(window).scrollTop() - $('.desc.dev').offset().top + ($('.menu').height() / 2) );\n\n                if( !isDevice ) {\n                    if( distance < 0 ) {\n                        $('.name').removeClass('scroll');\n                        $('.menu').removeClass('scroll');\n                    } else {\n                        $('.name').addClass('scroll');\n                        $('.menu').addClass('scroll');\n                    }\n                }\n            });\n        }\n    }\n\n    function pauseMovie() {\n        $(document).scroll(function() {\n            if( !isDevice ) {\n                if( $(window).scrollTop() != 0 ) $('#movie-desktop').get(0).pause();\n                else $('#movie-desktop').get(0).play();\n            }\n        });\n    }\n\n    function showDesc() {\n        \n        var v = h / 1.5;\n        var devLaunch,\n            dadLaunch,\n            voyLaunch = false;\n\n        function initDesc(n) {\n\n            TweenMax.to( \".\" + n + \" .cacheTitle h1\", 0.8, {\n                y: \"-2%\",\n                ease: Expo.easeInOut\n            });\n            TweenMax.to( \".\" + n + \" .cacheJaune\", 0.8, {\n                delay: 0.2,\n                width: \"100%\",\n                ease: Expo.easeInOut\n            });\n            TweenMax.to( \".\" + n + \" .cacheP p\", 0.8, {\n                delay: 0.15,\n                y: \"15%\",\n                ease: Expo.easeInOut,\n            });\n\n            TweenMax.to( \".\" + n + \" .me\", 1, {\n                opacity: 1,\n                bottom: 0,\n                delay: 0.4\n            });\n        \n            TweenMax.to( \".\" + n + \" .fond\", 0.5, {\n                opacity: 0.6,\n                delay: 1\n            });\n\n            TweenMax.to(\".\" + n + \" .icons li:nth-child(1) img\", 0.3, {\n                css: {\n                    scale: 1\n                },\n                delay: 0.55\n            });\n        \n            TweenMax.to(\".\" + n + \" .icons li:nth-child(2) img\", 0.3, {\n                css: {\n                    scale: 1\n                },\n                delay: 0.55\n            });\n            TweenMax.to(\".\" + n + \" .icons li:nth-child(3) img\", 0.3, {\n                css: {\n                    scale: 1\n                },\n                delay: 0.65\n            });\n            TweenMax.to(\".\" + n + \" .icons li:nth-child(4) img\", 0.3, {\n                css: {\n                    scale: 1\n                },\n                delay: 0.70\n            });\n            TweenMax.to(\".\" + n + \" .icons li:nth-child(5) img\", 0.3, {\n                css: {\n                    scale: 1\n                },\n                delay: 0.75\n            });\n        }\n\n\n        if( !$('body').hasClass('projets') ) {\n\n            $(document).scroll(function() {\n                var distDev = Math.round( $(window).scrollTop() - $('.desc.dev').offset().top + v );\n                var distDad = Math.round( $(window).scrollTop() - $('.desc.daddy').offset().top + v );\n                var distVoy = Math.round( $(window).scrollTop() - $('.desc.voyage').offset().top + v );\n                console.log(distDev, distDad, distVoy);\n    \n                if( distDev > 0 && !devLaunch ) {\n                    initDesc('dev');\n                    devLaunch = true;\n                }\n                if( distDad > 0 && !dadLaunch ) {\n                    initDesc('daddy');\n                    dadLaunch = true;\n                }\n                if( distVoy > 0 && !voyLaunch) {\n                    initDesc('voyage');\n                    voyLaunch = true;\n                }\n            });\n        }\n    }\n\n    function lockMovie() {\n\n        if ( isDevice ) {\n\n            $('.movie .play').click(function() {\n                $('.iframe').addClass('show');\n            })\n\n            $('.iframe .close').click(function() {\n                $('.iframe').removeClass('show');\n            })\n        } \n\n    }\n\n    function projects() {\n        var showList;\n\n        function showProject(m) {\n\n\n            TweenMax.to(\".projet.p\" + m + \" .number \", 1, {\n                delay: 0.2,\n                css: { scale: 3 },\n                ease: Elastic.easeOut.config(1, 0.4)\n            });\n            \n            TweenMax.to(\".projet.p\" + m + \" .nbshadow\", 1, {\n                delay: .5,\n                left: \"51%\",\n                top: \"51%\",\n                ease: Expo.easeInOut,\n                // A Link\n                onComplete:function(){\n                    if( m === 1 ) $('.projet.p' + m + ' a').attr('href', 'p-psa.html');\n                    else if( m === 2 ) $('.projet.p' + m + ' a').attr('href', 'p-coachy.html');\n                    else if( m === 3 ) $('.projet.p' + m + ' a').attr('href', 'p-cream.html');\n                    else if( m === 4 ) $('.projet.p' + m + ' a').attr('href', 'p-fff.html');\n                    else if( m === 5 ) $('.projet.p' + m + ' a').attr('href', 'p-youphil.html');\n                } \n            });\n    \n            TweenMax.to(\".projet.p\" + m + \" .cacheLogo\", 2, {\n                delay: 1.2,\n                rotation: \"0\",\n                opacity: 0.9,\n                ease: Elastic.easeOut.config(1, 0.3)\n            });\n\n            TweenMax.to(\".projet.p\" + m + \" .cachedate span\", 2, {\n                delay: .8,\n                opacity: 1,\n                ease: Expo.easeInOut\n            });\n        }\n\n        function reverse(n) {\n\n            var m = n - 1;\n            var v = n + 1;\n    \n            TweenMax.to(\".projet.p\" + m + \" .cacheLogo\", .1, {\n                rotation: \"100\",\n                opacity: 0\n            });\n            TweenMax.to(\".projet.p\" + v + \" .cacheLogo\", .1, {\n                rotation: \"100\",\n                opacity: 0\n            });\n\n            TweenMax.to(\".projet.p\" + m + \" .number \", 1, {\n                css: { scale: 1 },\n                ease: Elastic.easeOut.config(1, 0.4)\n            });\n            TweenMax.to(\".projet.p\" + v + \" .number \", 1, {\n                css: { scale: 1 },\n                ease: Elastic.easeOut.config(1, 0.4)\n            });\n            \n            TweenMax.to(\".projet.p\" + m + \" .nbshadow\", 1, {\n                left: \"50%\",\n                top: \"50%\",\n                ease: Expo.easeInOut,\n            });\n            TweenMax.to(\".projet.p\" + v + \" .nbshadow\", 1, {\n                left: \"50%\",\n                top: \"50%\",\n                ease: Expo.easeInOut,\n            });\n            TweenMax.to(\".projet.p\" + m + \" .cachedate span\", .3, {\n                opacity: 0\n            });\n            TweenMax.to(\".projet.p\" + v + \" .cachedate span\", .3, {\n                opacity: 0\n            });\n\n            // A Link remove\n            $('.projet.p' + m + ' a').removeAttr(\"href\");\n            $('.projet.p' + v + ' a').removeAttr(\"href\");\n        }\n\n        function showList(n) {\n            $('.projet.p' + n).click(function() {\n                $('.list').attr('class', 'list p' + n);\n                showProject(n);\n                reverse(n);\n            })\n        }\n\n        showProject(1);\n        showList(1);\n        showList(2);\n        showList(3);\n        showList(4);\n        showList(5);\n\n    }\n\n    function projet() {\n\n        // TweenMax.to(\".list .projet.p2 .circle\", 1, {\n        //     css: { scale: 2000 },\n        //     ease: Expo.easeInOut\n        // });\n    }\n\n    function barba() {\n\n        var FadeTransition = Barba.BaseTransition.extend({\n            start: function() {\n            /**\n             * This function is automatically called as soon the Transition starts\n             * this.newContainerLoading is a Promise for the loading of the new container\n             * (Barba.js also comes with an handy Promise polyfill!)\n             */\n        \n            // As soon the loading is finished and the old page is faded out, let's fade the new page\n            Promise\n                .all([this.newContainerLoading, this.fadeOut()])\n                .then(this.fadeIn.bind(this));\n            },\n        \n            fadeOut: function() {\n            /**\n             * this.oldContainer is the HTMLElement of the old Container\n             */\n        \n            return $(this.oldContainer).animate({ opacity: 0 }).promise();\n            return TweenMax.to(\".list .projet.p1 .circle\", 1, {\n                    css: { scale: 2000 },\n                    x: '-50%',\n                    y: '-50%',\n                    ease: Expo.easeInOut\n                }).promise();\n            },\n        \n            fadeIn: function() {\n            /**\n             * this.newContainer is the HTMLElement of the new Container\n             * At this stage newContainer is on the DOM (inside our #barba-container and with visibility: hidden)\n             * Please note, newContainer is available just after newContainerLoading is resolved!\n             */\n        \n            var _this = this;\n            var $el = $(this.newContainer);\n        \n            $(this.oldContainer).hide();\n        \n            $el.css({\n                visibility : 'visible',\n                opacity : 0\n            });\n\n        \n            $el.animate({ opacity: 1 }, 0.001, function() {\n                /**\n                 * Do not forget to call .done() as soon your transition is finished!\n                 * .done() will automatically remove from the DOM the old Container\n                 */\n        \n                _this.done();\n            });\n            }\n        });\n        \n        Barba.Pjax.getTransition = function() {\n            /**\n             * Here you can use your own logic!\n             * For example you can use different Transition based on the current page or link...\n             */\n\n\n            console.log( Barba.HistoryManager.history );\n\n            // if (FromHomeSlider.valid()) {\n            //     return FromHomeSlider;\n            // }\n\n            // if (PortfolioToCaseStudy.valid()) {\n            //     return PortfolioToCaseStudy;\n            // }\n\n            // if (CaseStudyReadMore.valid()) {\n            //     return CaseStudyReadMore;\n            // }\n\n            // if (CaseStudySibling.valid()) {\n            //     return CaseStudySibling;\n            // }\n\n            return FadeTransition;\n\n        };\n\n        var bProjets = Barba.BaseView.extend({\n            namespace: 'projets',\n            onEnter: function() {\n                console.log('b_Projets > onEnterCompleted');\n                TweenMax.to(\".list .projet.p1 .circle\", 10, {\n                    css: { scale: 2000 },\n                    x: '-50%',\n                    y: '-50%',\n                    ease: Expo.easeInOut,\n                    onComplete: function() {\n                        console.log('complete');\n                    }\n                });\n            },\n            onEnterCompleted: function() {\n                console.log('b_Projets > onEnterCompleted');\n            },\n            onLeave: function() {\n\n            },\n            onLeaveCompleted: function() {\n                console.log('b_Projets > onLeaveCompleted');\n                \n          \n            }\n        });\n\n        var bProjet = Barba.BaseView.extend({\n            namespace: 'projet',\n            onEnter: function() {\n                console.log('projet > onEnter');\n            },\n            onEnterCompleted: function() {\n                console.log('projet > onEnterCompleted');\n            },\n            onLeave: function() {\n                console.log('projet > onLeave');\n            },\n            onLeaveCompleted: function() {\n                console.log('projet > onLeaveCompleted');\n            }\n        });\n        \n        // init \n        bProjet.init();\n        bProjets.init();\n    }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    Barba.Dispatcher.on('transitionCompleted', function(currentStatus, oldStatus, container) {\n\n        // barba();\n        movie();\n        pauseMovie();\n        burger();\n        menuColor();\n        showDesc();\n        // lockMovie();\n        projects();\n\n    });\n\n    Barba.Dispatcher.on('linkClicked', function() {\n        console.log('link: ', $(this));\n      });\n\n    $('document').ready(function () {\n\n        barba();\n        movie();\n        pauseMovie();\n        burger();\n        menuColor();\n        showDesc();\n        // lockMovie();\n        projects();\n\n        Barba.Pjax.start();\n    });\n"],"file":"app.js","sourceRoot":"/source/"}